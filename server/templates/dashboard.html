{% extends 'base.html' %} {% block content %}

<h1 class="app-page-title">Dashboard</h1>

<div
  class="app-card alert alert-dismissible shadow-sm mb-4 border-left-decoration"
  role="alert"
>
  <div class="inner">
    <div class="app-card-body p-3 p-lg-4">
      <h3 class="mb-3">Selamat Datang</h3>
      <div class="row gx-5 gy-3">
        <div class="col-12 col-lg-9">
          <div>{{app_name}}</div>
        </div>
        <!--//col-->

        <!--//col-->
      </div>
      <!--//row-->
      <button
        type="button"
        class="btn-close"
        data-bs-dismiss="alert"
        aria-label="Close"
      ></button>
    </div>
    <!--//app-card-body-->
  </div>
  <!--//inner-->
</div>
<!--//app-card-->

<div class="row g-4 mb-4">
  <div class="col-12 col-lg-4">
    <div
      class="app-card app-card-basic d-flex flex-column align-items-start shadow-sm"
    >
      <div class="app-card-header p-3 border-bottom-0">
        <div class="row align-items-center gx-3">
          <div class="col-auto">
            <div class="app-icon-holder">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="16"
                fill="currentColor"
                class="bi bi-box-arrow-down"
                viewBox="0 0 16 16"
              >
                <path
                  fill-rule="evenodd"
                  d="M3.5 10a.5.5 0 0 1-.5-.5v-8a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 0 0 1h2A1.5 1.5 0 0 0 14 9.5v-8A1.5 1.5 0 0 0 12.5 0h-9A1.5 1.5 0 0 0 2 1.5v8A1.5 1.5 0 0 0 3.5 11h2a.5.5 0 0 0 0-1z"
                />
                <path
                  fill-rule="evenodd"
                  d="M7.646 15.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 14.293V5.5a.5.5 0 0 0-1 0v8.793l-2.146-2.147a.5.5 0 0 0-.708.708z"
                />
              </svg>
            </div>
            <!--//icon-holder-->
          </div>
          <!--//col-->
          <div class="col-auto">
            <h4 class="app-card-title">Surat Masuk</h4>
          </div>
          <!--//col-->
        </div>
        <!--//row-->
      </div>
      <!--//app-card-header-->
      <div class="app-card-body px-4">
        <div class="intro">
          <h1 class="text-center" id="surat_masuk">18</h1>
        </div>
      </div>
      <!--//app-card-body-->
    </div>
    <!--//app-card-->
  </div>
  <!--//col-->
  <div class="col-12 col-lg-4">
    <div
      class="app-card app-card-basic d-flex flex-column align-items-start shadow-sm"
    >
      <div class="app-card-header p-3 border-bottom-0">
        <div class="row align-items-center gx-3">
          <div class="col-auto">
            <div class="app-icon-holder">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="16"
                fill="currentColor"
                class="bi bi-box-arrow-up"
                viewBox="0 0 16 16"
              >
                <path
                  fill-rule="evenodd"
                  d="M3.5 6a.5.5 0 0 0-.5.5v8a.5.5 0 0 0 .5.5h9a.5.5 0 0 0 .5-.5v-8a.5.5 0 0 0-.5-.5h-2a.5.5 0 0 1 0-1h2A1.5 1.5 0 0 1 14 6.5v8a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 14.5v-8A1.5 1.5 0 0 1 3.5 5h2a.5.5 0 0 1 0 1z"
                />
                <path
                  fill-rule="evenodd"
                  d="M7.646.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 1.707V10.5a.5.5 0 0 1-1 0V1.707L5.354 3.854a.5.5 0 1 1-.708-.708z"
                />
              </svg>
            </div>
            <!--//icon-holder-->
          </div>
          <!--//col-->
          <div class="col-auto">
            <h4 class="app-card-title">Surat Keluar</h4>
          </div>
          <!--//col-->
        </div>
        <!--//row-->
      </div>
      <!--//app-card-header-->
      <div class="app-card-body px-4">
        <div class="intro"><h1 id="surat_keluar">.</h1></div>
      </div>
      <!--//app-card-body-->
    </div>
    <!--//app-card-->
  </div>
  <!--//col-->
  <div class="col-12 col-lg-4">
    <div
      class="app-card app-card-basic d-flex flex-column align-items-start shadow-sm"
    >
      <div class="app-card-header p-3 border-bottom-0">
        <div class="row align-items-center gx-3">
          <div class="col-auto">
            <div class="app-icon-holder">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="16"
                fill="currentColor"
                class="bi bi-box-seam"
                viewBox="0 0 16 16"
              >
                <path
                  d="M8.186 1.113a.5.5 0 0 0-.372 0L1.846 3.5l2.404.961L10.404 2zm3.564 1.426L5.596 5 8 5.961 14.154 3.5zm3.25 1.7-6.5 2.6v7.922l6.5-2.6V4.24zM7.5 14.762V6.838L1 4.239v7.923zM7.443.184a1.5 1.5 0 0 1 1.114 0l7.129 2.852A.5.5 0 0 1 16 3.5v8.662a1 1 0 0 1-.629.928l-7.185 2.874a.5.5 0 0 1-.372 0L.63 13.09a1 1 0 0 1-.63-.928V3.5a.5.5 0 0 1 .314-.464z"
                />
              </svg>
            </div>
            <!--//icon-holder-->
          </div>
          <!--//col-->
          <div class="col-auto">
            <h4 class="app-card-title">Dokumen Lainnya</h4>
          </div>
          <!--//col-->
        </div>
        <!--//row-->
      </div>
      <!--//app-card-header-->
      <div class="app-card-body px-4 mb-3">
        <div class="intro"><h1 id="dokumen_lainnya">.</h1></div>
      </div>
      <!--//app-card-body-->
    </div>
    <!--//app-card-->
  </div>
  <!--//col-->
</div>
<!--//row-->

<script>
  const suratMasuk = document.getElementById("surat_masuk");
  const suratKeluar = document.getElementById("surat_keluar");
  const dokumenLainnya = document.getElementById("dokumen_lainnya");
  fetch("http://127.0.0.1:8000/api/arsip/keterangan/")
    .then((response) => response.json())
    .then((data) => {
      data.forEach((item) => {
        if (item.keterangan === "SURAT MASUK") {
          suratMasuk.textContent = item.jumlah;
        } else if (item.keterangan === "SURAT KELUAR") {
          suratKeluar.textContent = item.jumlah;
        } else if (item.keterangan === "LAINNYA") {
          dokumenLainnya.textContent = item.jumlah;
        }
      });
    })
    .catch((e) => console.log("error", e));
  // Fetch data from the API using AJAX
  // fetch("http://127.0.0.1:8000/api/arsip/keterangan/")
  //   .then((response) => response.json())
  //   .then((data) => {
  //     console.log(data);
  //     // Process the data and update HTML elements
  //     data.forEach((item) => {
  //       if (item.keterangan === "SURAT MASUK") {
  //         document
  //           .getElementById("surat_masuk")
  //           .querySelector("span").textContent = item.jumlah;
  //       } else if (item.keterangan === "SURAT KELUAR") {
  //         document
  //           .getElementById("surat_keluar")
  //           .querySelector("span").textContent = item.jumlah;
  //       } else if (item.keterangan === "LAINNYA") {
  //         document
  //           .getElementById("dokumen_lainnya")
  //           .querySelector("span").textContent = item.jumlah;
  //       }
  //     });
  //   })
  //   .catch((error) => {
  //     console.error("Error fetching data:", error);
  //   });
</script>

{% endblock content %}
